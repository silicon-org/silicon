// RUN: silc %s | FileCheck %s

// CHECK-LABEL: hw.module @Foo()
mod Foo {}

// CHECK-LABEL: hw.module @Bar()
mod Bar {}

// CHECK-LABEL: hw.module @InputsOutputs
// CHECK-SAME: in %a : i32
// CHECK-SAME: out b : i42
mod InputsOutputs {
    input a: uint<32>;
    output b: uint<42> = 9001u42;
    // CHECK: hw.output %c9001_i42 : i42
}

// CHECK-LABEL: hw.module @Expressions
mod Expressions {
    // CHECK: [[A:%.+]] = hw.constant 9001 : i42
    output a: uint<42> = 9001u42;
    // CHECK: [[B:%.+]] = comb.add
    output b: uint<16> = 1u16 + 2u16;
    // CHECK: [[C:%.+]] = comb.sub
    output c: uint<16> = 4u16 - 3u16;

    // CHECK: hw.output [[A]], [[B]], [[C]]
}

// CHECK-LABEL: hw.module @Identifiers
// CHECK-SAME: in %a : i42
// CHECK-SAME: out x : i42
// CHECK-SAME: out y : i42
mod Identifiers {
    output x: uint<42> = y;
    output y: uint<42> = z;
    let z: uint<42> = a;
    input a: uint<42>;
    // CHECK: %z = hw.wire %a
    // CHECK: hw.output %z, %z
}
